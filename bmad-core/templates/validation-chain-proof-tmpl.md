# Validation Chain Proof

**Generated by:** Validator Agent
**Date:** {{GENERATED_DATE}}
**Story:** {{STORY_ID}} - {{STORY_TITLE}}
**Validation Status:** {{STATUS}}

---

## Summary

This document provides **empirical proof** that Story {{STORY_ID}} is fully traceable from domain truth through requirements, architecture, and code, and that all validation tests pass.

- **Domain Truth Validated:** ✅ {{DOMAIN_TRUTH_STATUS}}
- **Requirements Traced:** ✅ {{REQUIREMENTS_STATUS}}
- **Architecture Aligned:** ✅ {{ARCHITECTURE_STATUS}}
- **Code Implemented:** ✅ {{CODE_STATUS}}
- **Eval Tests Passed:** ✅ {{EVAL_TESTS_STATUS}}
- **Traceability Complete:** ✅ {{TRACEABILITY_STATUS}}

---

## Traceability Chain

### Level 0: Domain Truth

**Domain Facts Referenced:**

| Domain Fact ID | Description | Source |
|----------------|-------------|--------|
| {{FACT_ID}} | {{FACT_DESCRIPTION}} | domain-truth.yaml |

**Domain Rules Implemented:**

| Rule ID | Rule Name | Type | Test Dataset ID |
|---------|-----------|------|-----------------|
| {{RULE_ID}} | {{RULE_NAME}} | {{RULE_TYPE}} | {{TEST_ID}} |

**Concepts Utilized:**

| Concept ID | Concept Name | Properties Used | Invariants Validated |
|------------|--------------|-----------------|----------------------|
| {{CONCEPT_ID}} | {{CONCEPT_NAME}} | {{PROPERTIES}} | {{INVARIANTS}} |

---

### Level 1: Requirements (PRD)

**Functional Requirements Implemented:**

| FR ID | FR Name | Traces To Domain | Test Dataset ID |
|-------|---------|------------------|-----------------|
| {{FR_ID}} | {{FR_NAME}} | {{DOMAIN_REF}} | {{TEST_ID}} |

**Acceptance Criteria:**

| Criterion | Validation Method | Status | Evidence |
|-----------|-------------------|--------|----------|
| {{CRITERION}} | {{METHOD}} | {{STATUS}} | {{EVIDENCE_PATH}} |

**Non-Functional Requirements:**

| NFR ID | Attribute | Target | Measured | Status |
|--------|-----------|--------|----------|--------|
| {{NFR_ID}} | {{ATTRIBUTE}} | {{TARGET}} | {{MEASURED}} | {{STATUS}} |

---

### Level 2: Architecture

**Components Involved:**

| Component ID | Component Name | Responsibility | Implementation |
|--------------|----------------|----------------|----------------|
| {{COMP_ID}} | {{COMP_NAME}} | {{RESPONSIBILITY}} | {{IMPL_PATH}} |

**Design Decisions Implemented:**

| Decision ID | Decision | Rationale | Validated By |
|-------------|----------|-----------|--------------|
| {{DECISION_ID}} | {{DECISION}} | {{RATIONALE}} | {{VALIDATION}} |

**Integration Points:**

| Integration | Type | Contract | Test Dataset ID |
|-------------|------|----------|-----------------|
| {{INTEGRATION}} | {{TYPE}} | {{CONTRACT}} | {{TEST_ID}} |

---

### Level 3: Implementation (Code)

**Files Modified/Created:**

| File Path | Purpose | Lines Changed | Test Coverage |
|-----------|---------|---------------|---------------|
| {{FILE_PATH}} | {{PURPOSE}} | {{LINES}} | {{COVERAGE}}% |

**Functions/Classes Implemented:**

| Function/Class | Purpose | Implements | Test File |
|----------------|---------|------------|-----------|
| {{NAME}} | {{PURPOSE}} | {{IMPLEMENTS}} | {{TEST_FILE}} |

**Code Traces To:**

- **Domain Rule:** {{RULE_ID}} ({{RULE_NAME}})
- **FR:** {{FR_ID}} ({{FR_NAME}})
- **Architecture Component:** {{COMP_ID}} ({{COMP_NAME}})
- **Story:** {{STORY_ID}} ({{STORY_TITLE}})

---

## Empirical Validation

### Eval Test Results

**Test Suite:** {{TEST_SUITE_NAME}}
**Execution Date:** {{EXECUTION_DATE}}
**Framework:** {{TEST_FRAMEWORK}}

| Test Dataset ID | Test Name | Type | Status | Evidence |
|-----------------|-----------|------|--------|----------|
| {{TEST_ID}} | {{TEST_NAME}} | {{TYPE}} | ✅ PASS | {{EVIDENCE_PATH}} |

**Coverage Analysis:**

- **Domain Facts Covered:** {{DOMAIN_COVERAGE}}% ({{COVERED}}/{{TOTAL}})
- **FRs Covered:** {{FR_COVERAGE}}% ({{COVERED}}/{{TOTAL}})
- **Code Coverage:** {{CODE_COVERAGE}}%
- **Edge Cases Covered:** {{EDGE_CASES}}

**Test Execution Summary:**

```
Total Tests: {{TOTAL_TESTS}}
Passed: {{PASSED}}
Failed: {{FAILED}}
Skipped: {{SKIPPED}}
Duration: {{DURATION}}
```

---

### Oracle Validation

**Semantic Consistency Check:** {{ORACLE_STATUS}}

- Domain truth alignment: {{DOMAIN_ALIGNMENT}}
- Terminology consistency: {{TERMINOLOGY_STATUS}}
- No semantic drift detected: {{DRIFT_STATUS}}

**Consistency Report:** {{CONSISTENCY_REPORT_PATH}}

---

### Validator Checks

**Traceability Validation:**

- [x] Domain truth → PRD traceability verified
- [x] PRD → Architecture traceability verified
- [x] Architecture → Code traceability verified
- [x] Code → Tests traceability verified
- [x] Bidirectional links validated

**Completeness Validation:**

- [x] All domain facts have test datasets
- [x] All FRs have acceptance criteria tests
- [x] All architecture components implemented
- [x] All story requirements met
- [x] 100% requirement coverage achieved

**Cross-Artifact Consistency:**

- [x] PRD aligns with domain truth
- [x] Architecture satisfies PRD requirements
- [x] Code implements architecture design
- [x] Tests validate domain truth

---

## Brownfield Validation (if applicable)

{{#if BROWNFIELD}}

### Regression Validation

**Existing Functionality Preserved:**

| Regression Test ID | Existing Feature | Status | Evidence |
|--------------------|------------------|--------|----------|
| {{REGRESSION_ID}} | {{FEATURE}} | ✅ PASS | {{EVIDENCE}} |

**Backward Compatibility:**

- [x] All existing APIs maintain contracts
- [x] No breaking changes to data models
- [x] Integration points remain compatible
- [x] Performance baselines maintained

**Compatibility Test Results:**

| Test ID | Test Name | Old + New Status | Evidence |
|---------|-----------|------------------|----------|
| {{COMPAT_ID}} | {{TEST_NAME}} | ✅ PASS | {{EVIDENCE}} |

### Migration Validation

**Migration Path Tested:**

| Migration Test ID | Scenario | Status | Evidence |
|-------------------|----------|--------|----------|
| {{MIGRATION_ID}} | {{SCENARIO}} | ✅ PASS | {{EVIDENCE}} |

**Enhancement Truth Validated:**

- Enhancement {{ENH_ID}}: {{ENH_STATUS}}
- Current state → Target state transition: {{TRANSITION_STATUS}}
- Rollback capability: {{ROLLBACK_STATUS}}

{{/if}}

---

## Evidence Repository

### Artifacts

| Artifact Type | Path | Version | Hash |
|---------------|------|---------|------|
| Domain Truth | {{DOMAIN_TRUTH_PATH}} | {{VERSION}} | {{HASH}} |
| PRD | {{PRD_PATH}} | {{VERSION}} | {{HASH}} |
| Architecture | {{ARCH_PATH}} | {{VERSION}} | {{HASH}} |
| Story | {{STORY_PATH}} | {{VERSION}} | {{HASH}} |
| Code | {{CODE_PATH}} | {{VERSION}} | {{HASH}} |

### Test Results

| Test Type | Results Path | Timestamp | Pass Rate |
|-----------|--------------|-----------|-----------|
| Unit Tests | {{UNIT_PATH}} | {{TIMESTAMP}} | {{PASS_RATE}}% |
| Integration Tests | {{INT_PATH}} | {{TIMESTAMP}} | {{PASS_RATE}}% |
| E2E Tests | {{E2E_PATH}} | {{TIMESTAMP}} | {{PASS_RATE}}% |
| Regression Tests | {{REG_PATH}} | {{TIMESTAMP}} | {{PASS_RATE}}% |

### Validation Reports

| Report Type | Path | Generated | Status |
|-------------|------|-----------|--------|
| Oracle Consistency | {{ORACLE_REPORT}} | {{TIMESTAMP}} | {{STATUS}} |
| Validator Traceability | {{VALIDATOR_REPORT}} | {{TIMESTAMP}} | {{STATUS}} |
| Eval Coverage | {{EVAL_REPORT}} | {{TIMESTAMP}} | {{STATUS}} |

---

## Conclusion

**Story {{STORY_ID}} is VALIDATED** ✅

This story has been **empirically proven** to:

1. ✅ Trace completely from domain truth through all artifact levels
2. ✅ Implement all requirements with 100% coverage
3. ✅ Pass all eval test datasets with concrete evidence
4. ✅ Maintain semantic consistency (validated by Oracle)
5. ✅ Achieve bidirectional traceability (validated by Validator)
{{#if BROWNFIELD}}
6. ✅ Preserve existing functionality (regression tests pass)
7. ✅ Maintain backward compatibility (compatibility tests pass)
8. ✅ Validate migration path (migration tests pass)
{{/if}}

**Validation Chain Status:** COMPLETE ✅
**Approval for Deployment:** {{APPROVAL_STATUS}}

---

**Validated By:** Validator Agent
**Reviewed By:** {{REVIEWER}}
**Date:** {{VALIDATION_DATE}}
**Signature:** {{SIGNATURE}}

---

<!-- [[LLM: INSTRUCTIONS FOR VALIDATOR AGENT]] -->
<!-- [[LLM: When generating this proof:]] -->
<!-- [[LLM: 1. Verify EVERY link in the traceability chain]] -->
<!-- [[LLM: 2. Execute ALL eval test datasets and collect evidence]] -->
<!-- [[LLM: 3. Validate semantic consistency with Oracle]] -->
<!-- [[LLM: 4. Check bidirectional traceability (code ↔ docs)]] -->
<!-- [[LLM: 5. Ensure 100% requirement coverage]] -->
<!-- [[LLM: 6. For brownfield: validate regression + compatibility + migration]] -->
<!-- [[LLM: 7. Collect and link to ALL evidence artifacts]] -->
<!-- [[LLM: 8. Generate PASS/FAIL for each validation type]] -->
<!-- [[LLM: 9. This document is the PROOF - it must be comprehensive]] -->
