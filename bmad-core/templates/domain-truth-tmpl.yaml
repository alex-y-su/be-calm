# domain-truth.yaml
# Canonical business domain knowledge - foundation for all artifacts
# Focus: WHAT the business requires, not HOW to implement

metadata:
  version: "1.0.0"
  created_date: "{{CREATED_DATE}}"
  last_validated: "{{LAST_VALIDATED}}"
  domain_name: "{{DOMAIN_NAME}}"
  validation_status: "draft"  # [draft, validated, production]

domain:
  name: "{{DOMAIN_NAME}}"
  description: |
    {{DOMAIN_DESCRIPTION}}

  scope:
    what_we_solve:
      - "{{BUSINESS_PROBLEM_1}}"
      # What business problems does this domain address?

    what_we_dont_solve:
      - "{{OUT_OF_SCOPE_1}}"
      # What is explicitly NOT our responsibility?

  key_terms:
    - term: "{{TERM_1}}"
      meaning: "{{BUSINESS_MEANING}}"
      use_instead_of: ["{{FORBIDDEN_ALTERNATIVE}}"]
    # Domain-specific vocabulary that must be used consistently

business_concepts:
  - id: "CONCEPT-001"
    name: "{{CONCEPT_NAME}}"
    what_it_is: "{{BUSINESS_DESCRIPTION}}"
    # What does this represent in business terms?

    key_attributes:
      - name: "{{ATTRIBUTE_NAME}}"
        must_have: true
        business_rules:
          - "{{BUSINESS_CONSTRAINT}}"
        test_ref: "TEST-001"
      # What information is essential to this concept?

    business_rules:
      - id: "INV-001"
        rule: "{{BUSINESS_INVARIANT}}"
        why: "{{BUSINESS_JUSTIFICATION}}"
        test_ref: "TEST-002"
      # What must ALWAYS be true from a business perspective?

  # Add more business concepts

business_rules:
  - id: "RULE-001"
    what: "{{WHAT_HAPPENS}}"
    when: "{{WHEN_IT_APPLIES}}"
    why: "{{BUSINESS_JUSTIFICATION}}"
    example:
      given: "{{EXAMPLE_SCENARIO}}"
      expect: "{{EXPECTED_OUTCOME}}"
      test_ref: "TEST-003"
    priority: "critical"  # [critical, high, medium, low]

  # Add more business rules - focus on BUSINESS logic, not implementation

requirements:
  - id: "REQ-001"
    what_user_needs: "{{USER_NEED}}"
    why_matters: "{{BUSINESS_VALUE}}"
    how_to_verify:
      - "{{ACCEPTANCE_CRITERION_1}}"
      - test_ref: "TEST-005"
    priority: "critical"

  # Add requirements that capture business goals, not technical solutions

quality_goals:
  - what: "{{QUALITY_GOAL}}"
    why: "{{BUSINESS_IMPACT}}"
    target: "{{MEASURABLE_TARGET}}"
    test_ref: "PERF-001"

  # Business-driven quality expectations (speed, reliability, ease of use)

constraints:
  - what: "{{CONSTRAINT}}"
    why: "{{REASON}}"
    impact: "{{WHAT_IT_LIMITS}}"

  # Real business or regulatory constraints, not technical limitations

validation:
  test_datasets_dir: "test-datasets/"
  all_rules_must_have_tests: true

# [[LLM: ORACLE AGENT INSTRUCTIONS]]
# [[LLM: Focus on BUSINESS domain knowledge:]]
# [[LLM: - Use business language, not technical jargon]]
# [[LLM: - Describe WHAT and WHY, not HOW]]
# [[LLM: - Every rule needs a concrete business example]]
# [[LLM: - Keep it minimal - only essential business knowledge]]
# [[LLM: - Avoid technical implementation patterns (entity/value object/etc)]]
# [[LLM: - This is the BUSINESS truth, not the technical architecture]]
